{"version":3,"sources":["../../../src/local/tests/stateevents.js"],"names":["Test","fakenode","document","createTextNode","statemanager","StateManager","detail","target","dispatchEvent","CustomEvent","action","bubbles","setReadOnly","test1","addAssert","test2","test3","test4","test5","test6","test7","test8","addEventListener","state","assertTrue","sampleobj","name","arr","length","sample","samplemap","get","size","title","info","setInitialState","id","list","newthing","mylist","samples","newthing2","propevents","element","mapevents","add","has","delete","value","samevalue","simplevalue1","simplevalue2","simplevalue3","simplevalue4","simplevalue5","arrayvalue1","arrayvalue2","arrayvalue4","objectvalue1","firstname","lastname","objectvalue2","some","other","objectvalue3","initial","compare","diffvalue","TestBase"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Test component.\n *\n * Important note: this is internal testing. Components should never user state manager or\n * reactive module directly. Only reactive instances can do it this way.\n *\n * @module     format_editortest/local/tests/stateevents\n * @package    core_course\n * @copyright  2020 Ferran Recio <ferran@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n// Iimport log from 'core/log';\nimport StateManager from 'core/local/reactive/statemanager';\nimport TestBase from 'format_editortest/local/tests/testbase';\n\nclass Test extends TestBase {\n\n    /**\n     * Function to prepare test scenario.\n     */\n    setUp() {\n\n        this.fakenode = document.createTextNode(null);\n\n        this.statemanager = new StateManager((detail, target) => {\n            if (target === undefined) {\n                target = document;\n            }\n            target.dispatchEvent(new CustomEvent(detail.action, {\n                bubbles: false,\n                detail: detail,\n            }));\n        }, this.fakenode);\n    }\n\n    tearDown() {\n        // Set state in read mode will tirgger all the state change events.\n        this.statemanager.setReadOnly(true);\n    }\n\n    /**\n     * Test initial loaded event.\n     */\n    testInitialLoaded() {\n\n        // Some tests are async so we cannot declare from within the specific method.\n        const test1 = this.addAssert('Initial state loaded event');\n        const test2 = this.addAssert('Check initial event has state data');\n        const test3 = this.addAssert('Check initial has state object');\n        const test4 = this.addAssert('Check initial has state object attribute');\n        const test5 = this.addAssert('Check initial has state object array');\n        const test6 = this.addAssert('Check initial has state map');\n        const test7 = this.addAssert('Check initial has state map attribute');\n        const test8 = this.addAssert('Check initial has state map array');\n\n        this.fakenode.addEventListener('state:loaded', ({detail}) => {\n            const state = detail.state;\n            this.assertTrue(test1, true);\n            // Check state contents.\n            this.assertTrue(test2, state !== undefined);\n\n            // Object attributes.\n            this.assertTrue(test3, state.sampleobj !== undefined);\n            this.assertTrue(test4, state.sampleobj.name === 'sample');\n            this.assertTrue(test5, state.sampleobj.arr.length === 2 && state.sampleobj.arr[0] === 'one');\n\n            // Map attributes.\n            const sample = state.samplemap.get('id1');\n            this.assertTrue(test6, state.samplemap.size == 2 && sample);\n            this.assertTrue(test7, sample.title === 'Title01');\n            this.assertTrue(test8, sample.info.length === 2 && sample.info[0] === 'uno');\n        });\n\n        this.statemanager.setInitialState({\n            sampleobj: {\n                name: 'sample',\n                arr: ['one', 'two'],\n            },\n            samplemap: [\n                {id: 'id1', title: 'Title01', info: ['uno', 'dos']},\n                {id: 'id2', title: 'Title02', info: ['tres', 'cuatro']},\n            ],\n        });\n    }\n\n    /**\n     * Add an object to state.\n     */\n    testAlterStateObjectCreateSimple() {\n\n        this.statemanager.setInitialState({\n            sample: {\n                name: 'other',\n                list: ['yi', 'er', 'san'],\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check initial has state map');\n\n        let state = this.statemanager.state;\n\n        // Create a new state object.\n        this.fakenode.addEventListener('state.newthing:created', ({detail}) => {\n            this.assertTrue(test1, detail.state.newthing.name == 'myname');\n        });\n        state.newthing = {name: 'myname', mylist: ['one', 'two']};\n    }\n\n    /**\n     * Update a state object.\n     */\n    testAlterStateObjectUpdateSimple() {\n\n        this.statemanager.setInitialState({\n            sample: {\n                name: 'other',\n                list: ['yi', 'er', 'san'],\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check initial has state map attribute');\n\n        let state = this.statemanager.state;\n\n        // Alter a value\n        this.fakenode.addEventListener('state.sample:updated', ({detail}) => {\n            this.assertTrue(test1, detail.state.sample.name == 'anewname');\n        });\n        state.sample = {name: 'anewname', list: ['uno', 'dos', 'tres']};\n    }\n\n    /**\n     * Delete a state object.\n     */\n    testAlterStateObjectDeleteSimple() {\n\n        this.statemanager.setInitialState({\n            sample: {\n                name: 'whatever',\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check initial has state map array');\n\n        let state = this.statemanager.state;\n\n        // Delete object\n        this.fakenode.addEventListener('state.sample:deleted', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.state.sample === undefined\n            );\n        });\n        delete state.sample;\n    }\n\n    /**\n     * Create a new object list in the state.\n     */\n    testAlterStateObjectCreateList() {\n\n        this.statemanager.setInitialState({\n            samples: [\n                {id: 'oid1', name: 'some'},\n                {id: 'oid2', name: 'other'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check initial has state map');\n        const test2 = this.addAssert('List item #1 updated');\n        const test3 = this.addAssert('List item #2 updated');\n\n        let state = this.statemanager.state;\n\n        // Create a list.\n        this.fakenode.addEventListener('state.newthing2:created', ({detail}) => {\n            this.assertTrue(test1, detail.state.newthing2.size == 2);\n        });\n        this.fakenode.addEventListener('newthing2[1]:created', ({detail}) => {\n            this.assertTrue(test2, detail.state.newthing2.size == 2);\n        });\n        this.fakenode.addEventListener('newthing2[2]:created', ({detail}) => {\n            this.assertTrue(test3, detail.state.newthing2.size == 2);\n        });\n\n        state.newthing2 = [{id: 1}, {id: 2}];\n    }\n\n    /**\n     * Update a object list.\n     */\n    testAlterStateObjectUpdateList() {\n\n        this.statemanager.setInitialState({\n            samples: [\n                {id: 'oid1', name: 'some'},\n                {id: 'oid2', name: 'other'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check initial has state map attribute');\n        // We are replacing the full list. This is considered a creation.\n        const test2 = this.addAssert('List item #1 created');\n        const test3 = this.addAssert('List item #2 created');\n        const test4 = this.addAssert('List item #3 created');\n\n        let state = this.statemanager.state;\n\n        // Alter a list.\n        this.fakenode.addEventListener('state.samples:updated', ({detail}) => {\n            this.assertTrue(test1, detail.state.samples.size == 3);\n        });\n        this.fakenode.addEventListener('samples[1]:created', ({detail}) => {\n            this.assertTrue(test2, detail.state.samples.size == 3);\n        });\n        this.fakenode.addEventListener('samples[2]:created', ({detail}) => {\n            this.assertTrue(test3, detail.state.samples.size == 3);\n        });\n        this.fakenode.addEventListener('samples[3]:created', ({detail}) => {\n            this.assertTrue(test4, detail.state.samples.size == 3);\n        });\n\n        state.samples = [{id: 1}, {id: 2}, {id: 3}];\n\n    }\n\n    /**\n     * Delete a list from the state.\n     */\n    testAlterStateObjectDeleteList() {\n\n        this.statemanager.setInitialState({\n            samples: [\n                {id: 23, name: 'notanymore'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check initial has state map array');\n\n        let state = this.statemanager.state;\n\n        // Delete a list.\n        this.fakenode.addEventListener('state.samples:deleted', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.state.samples === undefined\n            );\n        });\n\n        delete state.samples;\n    }\n\n    /**\n     * Add a new attribute to an state object.\n     */\n    testPropEventAddSimple() {\n\n        this.statemanager.setInitialState({\n            propevents: {\n                name: 'something',\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('State variable general update event');\n        const test2 = this.addAssert('Add a new attribute to state variable');\n\n        let state = this.statemanager.state;\n\n        // General state variable event.\n        this.fakenode.addEventListener('propevents:updated', ({detail}) => {\n            this.assertTrue(test1, detail.element.name === detail.state.propevents.name);\n        });\n\n        // Create a new object attribute.\n        this.fakenode.addEventListener('propevents.newthing:created', ({detail}) => {\n            this.assertTrue(test2, detail.element.newthing == 'newvalue');\n        });\n        state.propevents.newthing = 'newvalue';\n    }\n\n    /**\n     * Update an attribute of a state object.\n     */\n    testPropEventsUpdateSimple() {\n\n        this.statemanager.setInitialState({\n            propevents: {\n                name: 'something',\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('State variable general update event');\n        const test2 = this.addAssert('Update and existing attribute to state variable');\n\n        let state = this.statemanager.state;\n\n        // General state variable event.\n        this.fakenode.addEventListener('propevents:updated', ({detail}) => {\n            this.assertTrue(test1, detail.element.name === detail.state.propevents.name);\n        });\n\n        // Alter an existing attribute.\n        this.fakenode.addEventListener('propevents.name:updated', ({detail}) => {\n            this.assertTrue(test2, detail.element.name == 'newname');\n        });\n        state.propevents.name = 'newname';\n    }\n\n    /**\n     * Delete an attribute from a state object.\n     */\n    testPropEventsDeleteSimple() {\n\n        this.statemanager.setInitialState({\n            propevents: {\n                name: 'something',\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('State variable general update event');\n        const test2 = this.addAssert('Delete and existing attribute to state variable');\n\n        let state = this.statemanager.state;\n\n        // General state variable event.\n        this.fakenode.addEventListener('propevents:updated', ({detail}) => {\n            this.assertTrue(test1, detail.element.name === detail.state.propevents.name);\n        });\n\n        // Delete an attribute.\n        this.fakenode.addEventListener('propevents.name:deleted', ({detail}) => {\n            this.assertTrue(\n                test2,\n                detail.element.name === undefined\n            );\n        });\n        delete state.propevents.name;\n    }\n\n    /**\n     * Add an array into a state object.\n     */\n    testPropEventsAddArray() {\n\n        this.statemanager.setInitialState({\n            propevents: {\n                arr: ['yi', 'er', 'san', 'si', 'wu'],\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('State variable general update event');\n        const test2 = this.addAssert('Add a new attribute to state variable');\n\n        let state = this.statemanager.state;\n\n        // General state variable event.\n        this.fakenode.addEventListener('propevents:updated', ({detail}) => {\n            this.assertTrue(test1, detail.element.name === detail.state.propevents.name);\n        });\n\n        // Add an array as an attribute.\n        this.fakenode.addEventListener('propevents.newthing2:created', ({detail}) => {\n            this.assertTrue(test2, detail.element.newthing2.length == 3);\n        });\n        state.propevents.newthing2 = ['Un', 'Dos', 'Tres'];\n    }\n\n    /**\n     * Update an array of a state object.\n     */\n    testPropEventsUpdateArray() {\n\n        this.statemanager.setInitialState({\n            propevents: {\n                arr: ['yi', 'er', 'san', 'si', 'wu'],\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('State variable general update event');\n        const test2 = this.addAssert('Update and existing attribute to state variable');\n\n        let state = this.statemanager.state;\n\n        // General state variable event.\n        this.fakenode.addEventListener('propevents:updated', ({detail}) => {\n            this.assertTrue(test1, detail.element.name === detail.state.propevents.name);\n        });\n\n        // Alter an existing array.\n        this.fakenode.addEventListener('propevents.arr:updated', ({detail}) => {\n            this.assertTrue(test2, detail.element.arr.length == 3);\n        });\n\n        state.propevents.arr = ['Un', 'Dos', 'Tres'];\n    }\n\n    /**\n     * Delete an array from a state object.\n     */\n    testPropEventsDeleteArray() {\n\n        this.statemanager.setInitialState({\n            propevents: {\n                arr: ['yi', 'er', 'san', 'si', 'wu'],\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('State variable general update event');\n        const test2 = this.addAssert('Delete and existing attribute to state variable');\n\n        let state = this.statemanager.state;\n\n        // General state variable event.\n        this.fakenode.addEventListener('propevents:updated', ({detail}) => {\n            this.assertTrue(test1, detail.element.name === detail.state.propevents.name);\n        });\n\n        // Delete an array.\n        this.fakenode.addEventListener('propevents.arr:deleted', ({detail}) => {\n            this.assertTrue(test2, detail.element.arr === undefined);\n        });\n        delete state.propevents.arr;\n    }\n\n    /**\n     * Add an element to a state list.\n     */\n    testMapEventsAddElement() {\n\n        this.statemanager.setInitialState({\n            mapevents: [\n                {id: 'id1', name: 'some'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('General map update event');\n        const test2 = this.addAssert('Add a new value to a map');\n\n        let state = this.statemanager.state;\n\n        // General update variable event.\n        this.fakenode.addEventListener('mapevents:created', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.element.id == detail.state.mapevents.get(detail.element.id).id\n            );\n        });\n\n        // Set a new value into the list.\n        this.fakenode.addEventListener('mapevents[new]:created', ({detail}) => {\n            this.assertTrue(test2, detail.element.name == 'me');\n        });\n        state.mapevents.add({id: 'new', name: 'me'});\n    }\n\n    /**\n     * Update an element of a state list.\n     */\n    testMapEventsUpdateValue() {\n\n        this.statemanager.setInitialState({\n            mapevents: [\n                {id: 'id1', name: 'some'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('General map update event');\n        const test2 = this.addAssert('Update an element from a map');\n\n        let state = this.statemanager.state;\n\n        // General update variable event.\n        this.fakenode.addEventListener('mapevents:updated', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.element.id == detail.state.mapevents.get(detail.element.id).id\n            );\n        });\n\n        // Alter an existing value.\n        this.fakenode.addEventListener('mapevents[id1]:updated', ({detail}) => {\n            if (detail.element.id === 'id1') {\n                this.assertTrue(test2, detail.element.name == 'updateme');\n            }\n        });\n        state.mapevents.add({id: 'id1', name: 'updateme'});\n    }\n\n    /**\n     * Delete a value from a state list.\n     */\n    testMapEventsDeleteValue() {\n\n        this.statemanager.setInitialState({\n            mapevents: [\n                {id: 'id1', name: 'some'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('General map update event');\n        const test2 = this.addAssert('Delete an element form a map');\n\n        let state = this.statemanager.state;\n\n        // General update variable event.\n        this.fakenode.addEventListener('mapevents:deleted', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.element.id == 'id1' && !detail.state.mapevents.has('id1')\n            );\n        });\n\n        // Delete a value.\n        this.fakenode.addEventListener('mapevents[id1]:deleted', ({detail}) => {\n            this.assertTrue(\n                test2,\n                detail.element.id == 'id1' && !detail.state.mapevents.has('id1')\n            );\n        });\n        state.mapevents.delete('id1');\n    }\n\n    /**\n     * Add an atrtribute to an element of a state list.\n     */\n    testMapEventsAddAttribute() {\n\n        this.statemanager.setInitialState({\n            mapevents: [\n                {id: 'id1', name: 'some'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('General map update event');\n        const test2 = this.addAssert('Create an attribute form an element of a map');\n        const test3 = this.addAssert('Create an attribute form a specific element of a map');\n\n        let state = this.statemanager.state;\n\n        // General update variable event.\n        this.fakenode.addEventListener('mapevents:updated', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.element.id == detail.state.mapevents.get(detail.element.id).id\n            );\n        });\n\n        // Add attribute to a list element.\n        this.fakenode.addEventListener('mapevents.newthing:created', ({detail}) => {\n            this.assertTrue(test2, detail.element.newthing === 'Yeah');\n            this.assertTrue(null, detail.element.id === 'id1');\n        });\n        this.fakenode.addEventListener('mapevents[id1].newthing:created', ({detail}) => {\n            this.assertTrue(test3, detail.element.newthing === 'Yeah');\n            this.assertTrue(null, detail.element.id === 'id1');\n        });\n        state.mapevents.get('id1').newthing = 'Yeah';\n    }\n\n    /**\n     * Update an attribute of an element of a state list.\n     */\n    testMapEventsUpdateAttribute() {\n\n        this.statemanager.setInitialState({\n            mapevents: [\n                {id: 'id1', name: 'some'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('General map update event');\n        const test2 = this.addAssert('Update an attribute form an element of a map');\n        const test3 = this.addAssert('Update an attribute form an specific element of a map');\n\n        let state = this.statemanager.state;\n\n        // General update variable event.\n        this.fakenode.addEventListener('mapevents:updated', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.element.id == detail.state.mapevents.get(detail.element.id).id\n            );\n        });\n\n        // Alter an attribute from an existing element.\n        this.fakenode.addEventListener('mapevents.name:updated', ({detail}) => {\n            this.assertTrue(test2, detail.element.name === 'Maybe');\n            this.assertTrue(null, detail.element.id === 'id1');\n        });\n        this.fakenode.addEventListener('mapevents[id1].name:updated', ({detail}) => {\n            this.assertTrue(test3, detail.element.name === 'Maybe');\n            this.assertTrue(null, detail.element.id === 'id1');\n        });\n        state.mapevents.get('id1').name = 'Maybe';\n    }\n\n    /**\n     * Delete an attribute from an element of a state list.\n     */\n    testMapEventsDeleteAttribute() {\n\n        this.statemanager.setInitialState({\n            mapevents: [\n                {id: 'id1', name: 'some'},\n            ],\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('General map update event');\n        const test2 = this.addAssert('Delete an attribute form an element of a map');\n        const test3 = this.addAssert('Delete an attribute form an element of a map');\n\n        let state = this.statemanager.state;\n\n        // General update variable event.\n        this.fakenode.addEventListener('mapevents:updated', ({detail}) => {\n            this.assertTrue(\n                test1,\n                detail.element.id == detail.state.mapevents.get(detail.element.id).id\n            );\n        });\n\n        // Delete an attribute from an exisiting element.\n        this.fakenode.addEventListener('mapevents.name:deleted', ({detail}) => {\n            this.assertTrue(test2, detail.element.name === undefined);\n            this.assertTrue(null, detail.element.id === 'id1');\n        });\n        this.fakenode.addEventListener('mapevents[id1].name:deleted', ({detail}) => {\n            this.assertTrue(test3, detail.element.name === undefined);\n            this.assertTrue(null, detail.element.id === 'id1');\n        });\n        delete state.mapevents.get('id1').name;\n    }\n\n    /**\n     * Check assigning the same value does not trigger any change event.\n     *\n     * @param {*} value the value to update.\n     */\n    testSameValue(value) {\n        this.statemanager.setInitialState({\n            samevalue: {\n                value: value,\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Assign the same value does not trigger a general event', true);\n        const test2 = this.addAssert('Assign same value does not trigger event', true);\n\n        let state = this.statemanager.state;\n\n        // General event.\n        this.fakenode.addEventListener('samevalue:updated', () => {\n            this.assertTrue(test1, false);\n        });\n\n        this.fakenode.addEventListener('samevalue.value:updated', () => {\n            this.assertTrue(test2, false);\n        });\n        state.samevalue.value = value;\n    }\n\n    /**\n     * Data provider for testSameValue.\n     *\n     * @returns {object} list of scenarios\n     */\n    dataProviderTestSameValue() {\n        return {\n            // List updates can only be done on nonexistent values.\n            simplevalue1: ['sample'],\n            simplevalue2: [true],\n            simplevalue3: [null],\n            simplevalue4: [false],\n            simplevalue5: [123],\n            arrayvalue1: [[1, 2, 3]],\n            arrayvalue2: [['hi', 'there']],\n            arrayvalue4: [[true, null, 'here']],\n            objectvalue1: [{firstname: 'John', lastname: 'Doe'}],\n            objectvalue2: [{some: true, other: false}],\n            objectvalue3: [{some: null, other: 12}],\n        };\n    }\n\n    /**\n     * Test that alter a value trigger an event.\n     *\n     * @param {*} initial the initial value\n     * @param {*} compare the value to set\n     */\n    testDifferentValue(initial, compare) {\n        this.statemanager.setInitialState({\n            diffvalue: {\n                value: initial,\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Assign the same does not trigger a general event2', false);\n        const test2 = this.addAssert('Assign same value does not trigger event', false);\n\n        let state = this.statemanager.state;\n\n        // General event.\n        this.fakenode.addEventListener('diffvalue:updated', () => {\n            this.assertTrue(test1, true);\n        });\n\n        this.fakenode.addEventListener('diffvalue.value:updated', () => {\n            this.assertTrue(test2, true);\n        });\n\n        state.diffvalue.value = compare;\n    }\n\n    /**\n     * Data provider for testDifferentValue.\n     *\n     * @returns {object} test scenarios\n     */\n    dataProviderTestDifferentValue() {\n        return {\n            // List updates can only be done on nonexistent values.\n            simplevalue1: ['sample', 'something'],\n            simplevalue2: [true, false],\n            simplevalue3: [null, 'hi!'],\n            simplevalue4: [false, 23],\n            simplevalue5: [123, 124],\n            arrayvalue1: [[1, 2, 3], [1, 2, 4]],\n            arrayvalue2: [['hi', 'there'], ['hi', 'me']],\n            arrayvalue4: [[true, null, 'here'], [true, 12, 'here']],\n            objectvalue1: [{firstname: 'John', lastname: 'Doe'}, {firstname: 'John', lastname: 'None'}],\n            objectvalue2: [{some: true, other: false}, {some: true, other: true}],\n            objectvalue3: [{some: null, other: 12}, {some: 22, other: 23}],\n        };\n    }\n\n    /**\n     * Test transaction events.\n     */\n    testTransactionEvents() {\n        this.statemanager.setInitialState({\n            sample: {\n                name: 'other',\n                list: ['yi', 'er', 'san'],\n            },\n        });\n\n        // For this test we need an unlocked state.\n        this.statemanager.setReadOnly(false);\n\n        const test1 = this.addAssert('Check transaction start');\n        const test2 = this.addAssert('Attribute updated');\n        const test3 = this.addAssert('Check transaction end');\n\n        let state = this.statemanager.state;\n\n        // Alter a value\n        this.fakenode.addEventListener('transaction:start', ({detail}) => {\n            this.assertTrue(test1, detail.state.sample.name == 'anewname');\n        });\n        this.fakenode.addEventListener('state.sample:updated', ({detail}) => {\n            this.assertTrue(test2, detail.state.sample.name == 'anewname');\n        });\n        this.fakenode.addEventListener('transaction:end', ({detail}) => {\n            this.assertTrue(test3, detail.state.sample.name == 'anewname');\n        });\n        state.sample = {name: 'anewname', list: ['uno', 'dos', 'tres']};\n    }\n}\n\nexport default new Test();\n"],"file":"stateevents.min.js"}